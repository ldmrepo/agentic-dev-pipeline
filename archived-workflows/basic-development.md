# 기본 개발 워크플로우

## 워크플로우 개요
이 워크플로우는 표준적인 웹 애플리케이션 개발 과정을 자동화합니다.

## 실행 방법
```bash
claude -f workflows/basic-development.md
```

## 워크플로우 단계

### 1단계: 요구사항 분석 및 계획 수립

다음을 수행해줘:

#### 요구사항 분석
- 프로젝트 요구사항: ${REQUIREMENTS}
- 기능적 요구사항 추출 및 구조화
- 비기능적 요구사항 정의 (성능, 보안, 확장성)
- 제약사항 및 가정사항 명시
- 우선순위 매트릭스 생성

#### 아키텍처 설계
- 시스템 전체 구조도 작성
- 컴포넌트 간 인터페이스 정의
- 데이터 플로우 다이어그램 생성
- 기술 스택 선정 및 근거 제시
- 확장성 및 유지보수성 고려사항

#### 개발 계획 수립
- 작업 분해 구조(WBS) 생성
- 의존성 관계 매핑
- 리소스 및 일정 추정
- 위험 요소 식별 및 대응 방안
- 품질 보장 계획

결과를 다음 파일들로 저장해줘:
- `docs/requirements-analysis.md`
- `docs/architecture-design.md`
- `docs/development-plan.md`

---

### 2단계: 병렬 개발 실행

다음 작업들을 병렬로 진행해줘:

#### Backend 개발
```
프로젝트 구조 생성:
- Express.js 기반 API 서버 구조
- TypeScript 설정 및 컴파일러 구성
- ESLint, Prettier 설정
- Git hooks (pre-commit, pre-push) 설정

데이터베이스 설계:
- PostgreSQL 스키마 설계
- 마이그레이션 스크립트 작성
- 시드 데이터 준비
- 데이터베이스 연결 풀 설정

API 개발:
- RESTful API 엔드포인트 구현
- OpenAPI 3.0 스펙 문서 생성
- 입력 유효성 검사 미들웨어
- 에러 핸들링 미들웨어

보안 구현:
- JWT 기반 인증 시스템
- RBAC (Role-Based Access Control)
- Rate limiting 미들웨어
- CORS 정책 설정
- Helmet.js 보안 헤더 설정

테스트 작성:
- 단위 테스트 (Jest) - 커버리지 85% 이상
- 통합 테스트 (Supertest)
- API 테스트 (Newman/Postman)
```

#### Frontend 개발
```
프로젝트 초기화:
- React 18 + TypeScript 프로젝트 생성
- Vite 빌드 도구 설정
- Tailwind CSS 스타일링 설정
- 절대 경로 import 설정

컴포넌트 개발:
- Atomic Design 패턴 적용
- 재사용 가능한 UI 컴포넌트 라이브러리
- 반응형 디자인 구현
- 접근성(A11y) 고려사항 적용

상태 관리:
- Redux Toolkit 설정
- RTK Query API 연동
- 전역 상태 및 로컬 상태 분리
- 상태 정규화 및 최적화

라우팅 및 네비게이션:
- React Router v6 설정
- 보호된 라우트 구현
- 지연 로딩 (Code Splitting)
- 브레드크럼 네비게이션

테스트 작성:
- 컴포넌트 테스트 (React Testing Library)
- E2E 테스트 (Playwright)
- 시각적 회귀 테스트
```

#### Infrastructure 설정
```
컨테이너화:
- 멀티스테이지 Dockerfile 작성
- .dockerignore 최적화
- Docker Compose 로컬 개발 환경
- 이미지 크기 최적화

Kubernetes 구성:
- Deployment, Service, Ingress 매니페스트
- ConfigMap, Secret 관리
- HPA (Horizontal Pod Autoscaler) 설정
- 네임스페이스 및 리소스 쿼터

CI/CD 파이프라인:
- GitHub Actions 워크플로우 구성
- 빌드, 테스트, 배포 자동화
- 환경별 배포 전략 (dev, staging, prod)
- 보안 스캔 (Snyk, OWASP ZAP) 통합

모니터링 및 로깅:
- Prometheus 메트릭 수집 설정
- Grafana 대시보드 구성
- ELK 스택 로깅 파이프라인
- AlertManager 알림 규칙 설정
```

---

### 3단계: 품질 보장 및 테스팅

다음 품질 검증 작업을 수행해줘:

#### 코드 품질 검사
```
정적 분석:
- ESLint 규칙 검증
- TypeScript 타입 체크
- SonarQube 코드 품질 스캔
- 복잡도 및 중복도 분석

코드 리뷰:
- 자동 코드 리뷰 체크리스트 적용
- 베스트 프랙티스 준수 확인
- 성능 최적화 포인트 식별
- 보안 취약점 검토
```

#### 자동 테스트 실행
```
단위 테스트:
- Jest 테스트 실행
- 커버리지 리포트 생성 (목표: 85% 이상)
- 테스트 성능 측정
- Mutation Testing (Stryker.js)

통합 테스트:
- API 엔드포인트 테스트
- 데이터베이스 연동 테스트
- 서비스 간 통신 테스트
- Contract Testing (Pact)

E2E 테스트:
- 주요 사용자 시나리오 테스트
- 크로스 브라우저 테스트
- 모바일 반응형 테스트
- 접근성 테스트 (axe-core)
```

#### 성능 및 보안 테스트
```
성능 테스트:
- 로드 테스트 (k6) - 목표: 응답시간 < 200ms
- 스트레스 테스트 - 시스템 한계점 확인
- 스파이크 테스트 - 급격한 트래픽 증가 대응
- 메모리 누수 검사

보안 테스트:
- OWASP ZAP 동적 보안 스캔
- Snyk 의존성 취약점 스캔
- 인증/권한 테스트
- SQL Injection, XSS 테스트
```

---

### 4단계: 배포 및 모니터링 설정

다음 배포 프로세스를 진행해줘:

#### Staging 환경 배포
```
배포 준비:
- 환경 변수 설정 확인
- 데이터베이스 마이그레이션 실행
- 정적 자산 최적화 및 CDN 업로드
- 배포 체크리스트 검증

배포 실행:
- Rolling deployment 전략 적용
- 헬스체크 엔드포인트 확인
- 로드밸런서 설정 업데이트
- SSL 인증서 갱신 확인

Smoke 테스트:
- 핵심 기능 동작 확인
- API 응답 검증
- 데이터베이스 연결 테스트
- 외부 서비스 연동 확인
```

#### Production 배포 준비
```
배포 전 검증:
- Staging 환경 완전 테스트 통과 확인
- 성능 기준 달성 검증
- 보안 검사 통과 확인
- 운영팀 배포 승인

Blue-Green 배포 설정:
- Green 환경에 새 버전 배포
- 트래픽 라우팅 준비
- 롤백 계획 수립
- 모니터링 대시보드 준비
```

#### 모니터링 및 알림 설정
```
실시간 모니터링:
- 애플리케이션 성능 지표 (APM)
- 인프라 리소스 모니터링
- 비즈니스 메트릭 추적
- 사용자 경험 모니터링 (RUM)

알림 규칙 설정:
- 에러율 임계값 초과 시 즉시 알림
- 응답시간 지연 시 경고 알림
- 리소스 사용률 높을 때 알림
- 보안 이벤트 발생 시 긴급 알림
```

---

## 성공 기준

각 단계별 완료 조건:

### 1단계 완료 조건
- [ ] 요구사항 분석 문서 완성도 95% 이상
- [ ] 아키텍처 설계 검토 통과
- [ ] 개발 계획 승인 완료

### 2단계 완료 조건  
- [ ] 백엔드 API 모든 엔드포인트 구현 완료
- [ ] 프론트엔드 핵심 페이지 구현 완료
- [ ] 인프라 설정 완료 및 테스트 통과

### 3단계 완료 조건
- [ ] 코드 커버리지 85% 이상 달성
- [ ] 모든 자동 테스트 통과
- [ ] 보안 스캔 Critical/High 취약점 0개
- [ ] 성능 테스트 목표 달성 (응답시간 < 200ms)

### 4단계 완료 조건
- [ ] Staging 환경 배포 성공
- [ ] Smoke 테스트 100% 통과
- [ ] 모니터링 대시보드 정상 동작
- [ ] Production 배포 준비 완료

## 실패 시 대응 방안

각 단계에서 실패 시:
1. 자동 롤백 실행
2. 에러 로그 분석 및 리포트 생성
3. Slack을 통한 팀 알림
4. GitHub Issue 자동 생성
5. 근본 원인 분석 및 개선 방안 제시

모든 단계가 완료되면 최종 배포 리포트를 생성하고 팀에 공유해줘.
